{"paragraphs":[{"text":"%md\n\n## HCC-Internal:  How to setup a multi user (Active Directory and Kerberos backed) zeppelin integrated with AD and using Livy Rest server in the Field Cloud\n\nhttp://hcc-internal.hortonworks.com/articles/79/how-to-setup-a-multi-user-active-directory-and-ker.html\n\n###Zeppelin uses Apache Shiro to provide authentication and authorization (access control).\n\nHere is an overview of the steps:\n* Configure Zeppelin authentication for Active Directory identity source. After authentication is enabled, when you connect to Apache Zeppelin it prompts for credentials. \n* Limit who can configure Zeppelin interpreters. \n* Configure Zeppelin to run in a Kerberos-enabled cluster. \n\n\n```\n                                    \n┏━━━━━━━━━━━━━━━━━━━━━┓          ┏━━━━━━━━━━━━━━━━━━━━━┓          ┏━━━━━━━━━━━━━━━━━━━━━┓          ┏━━━━━━━━━━━━━━━━━━━━━┓\n┃                     ┃          ┃                     ┃          ┃                     ┃          ┃                     ┃\n┃   User: USER_X      ┃          ┃   ZEPPELIN          ┃  SPNEGO  ┃     REST LIVY       ┃          ┃     SPARK           ┃\n┃                     ┃<────────>┃                     ┃<────────▶┃     SERVER          ┃<────────▶┃     YARN            ┃  JOB RUNS AS USER_X\n┃                     ┃          ┃                     ┃ KERBEROS ┃                     ┃ KERBEROS ┃                     ┃\n┃                     ┃          ┃                     ┃          ┃                     ┃          ┃                     ┃\n┗━━━━━━━━━━━━━━━━━━━━━┛          ┗━━━━━━━━━━━━━━━━━━━━━┛          ┗━━━━━━━━━━━━━━━━━━━━━┛          ┗━━━━━━━━━━━━━━━━━━━━━┛\n                                        ^\n                                        │  Apache Shiro\n                                        V\n                                 ┏━━━━━━━━━━━━━━━━━━━━━┓\n                                 ┃                     ┃\n                                 ┃      ACTIVE         ┃\n                                 ┃     DIRECTORY       ┃\n                                 ┃                     ┃\n                                 ┃                     ┃\n                                 ┗━━━━━━━━━━━━━━━━━━━━━┛\n```\n","user":"hadoopadmin","dateUpdated":"2017-01-05T23:45:39+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483656261171_779291709","id":"20170105-224421_88538646","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>HCC-Internal:  How to setup a multi user (Active Directory and Kerberos backed) zeppelin integrated with AD and using Livy Rest server in the Field Cloud</h2>\n<p>http://hcc-internal.hortonworks.com/articles/79/how-to-setup-a-multi-user-active-directory-and-ker.html</p>\n<h3>Zeppelin uses Apache Shiro to provide authentication and authorization (access control).</h3>\n<p>Here is an overview of the steps:</p>\n<ul>\n<li>Configure Zeppelin authentication for Active Directory identity source. After authentication is enabled, when you connect to Apache Zeppelin it prompts for credentials.</li>\n<li>Limit who can configure Zeppelin interpreters.</li>\n<li>Configure Zeppelin to run in a Kerberos-enabled cluster.</li>\n</ul>\n<pre><code>┏━━━━━━━━━━━━━━━━━━━━━┓          ┏━━━━━━━━━━━━━━━━━━━━━┓          ┏━━━━━━━━━━━━━━━━━━━━━┓          ┏━━━━━━━━━━━━━━━━━━━━━┓\n┃                     ┃          ┃                     ┃          ┃                     ┃          ┃                     ┃\n┃   User: USER_X      ┃          ┃   ZEPPELIN          ┃  SPNEGO  ┃     REST LIVY       ┃          ┃     SPARK           ┃\n┃                     ┃&lt;────────&gt;┃                     ┃&lt;────────▶┃     SERVER          ┃&lt;────────▶┃     YARN            ┃  JOB RUNS AS USER_X\n┃                     ┃          ┃                     ┃ KERBEROS ┃                     ┃ KERBEROS ┃                     ┃\n┃                     ┃          ┃                     ┃          ┃                     ┃          ┃                     ┃\n┗━━━━━━━━━━━━━━━━━━━━━┛          ┗━━━━━━━━━━━━━━━━━━━━━┛          ┗━━━━━━━━━━━━━━━━━━━━━┛          ┗━━━━━━━━━━━━━━━━━━━━━┛\n                                        ^\n                                        │  Apache Shiro\n                                        V\n                                 ┏━━━━━━━━━━━━━━━━━━━━━┓\n                                 ┃                     ┃\n                                 ┃      ACTIVE         ┃\n                                 ┃     DIRECTORY       ┃\n                                 ┃                     ┃\n                                 ┃                     ┃\n                                 ┗━━━━━━━━━━━━━━━━━━━━━┛\n</code></pre>\n"},"dateCreated":"2017-01-05T22:44:21+0000","dateStarted":"2017-01-05T23:45:30+0000","dateFinished":"2017-01-05T23:45:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4842","focus":true},{"text":"sc.version","user":"sales1","dateUpdated":"2017-01-04T07:29:22+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482435040094_-1328444348","id":"20161222-193040_1583311087","result":{"code":"SUCCESS","type":"TEXT","msg":"res0: String = 1.6.2\n"},"dateCreated":"2016-12-22T07:30:40+0000","dateStarted":"2017-01-04T07:29:22+0000","dateFinished":"2017-01-04T07:30:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4843"},{"text":"%livy\n\nsc.version","user":"hadoopadmin","dateUpdated":"2017-01-05T22:38:28+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482435048865_-323464897","id":"20161222-193048_1998138397","result":{"code":"SUCCESS","type":"TEXT","msg":"res0: String = 1.6.2\n\n"},"dateCreated":"2016-12-22T07:30:48+0000","dateStarted":"2017-01-05T22:38:28+0000","dateFinished":"2017-01-05T22:39:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4844"},{"text":"%jdbc(hive)\n\nselect CURRENT_USER()","user":"hadoopadmin","dateUpdated":"2017-01-05T23:24:07+0000","config":{"colWidth":12,"graph":{"mode":"table","height":93,"optionOpen":false,"keys":[{"name":"_c0","index":0,"aggr":"sum"}],"values":[],"groups":[],"scatter":{"xAxis":{"name":"_c0","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482435150426_-1958142024","id":"20161222-193230_420108216","result":{"code":"SUCCESS","type":"TABLE","msg":"_c0\nhadoopadmin\n","comment":"","msgTable":[[{"value":"hadoopadmin"}]],"columnNames":[{"name":"_c0","index":0,"aggr":"sum"}],"rows":[["hadoopadmin"]]},"dateCreated":"2016-12-22T07:32:30+0000","dateStarted":"2017-01-05T22:40:01+0000","dateFinished":"2017-01-05T22:40:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4845"},{"text":"%jdbc(hive)\nselect * from factsales where productkey=956 limit 10","user":"hadoopadmin","dateUpdated":"2017-01-05T09:25:34+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"factsales.saleskey","index":0,"aggr":"sum"}],"values":[{"name":"factsales.datekey","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"factsales.saleskey","index":0,"aggr":"sum"},"yAxis":{"name":"factsales.datekey","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482444731500_1452568246","id":"20161222-221211_1398492895","result":{"code":"SUCCESS","type":"TABLE","msg":"factsales.saleskey\tfactsales.datekey\tfactsales.channelkey\tfactsales.storekey\tfactsales.productkey\tfactsales.promotionkey\tfactsales.currencykey\tfactsales.unitcost\tfactsales.unitprice\tfactsales.salesquantity\tfactsales.returnquantity\tfactsales.returnamount\tfactsales.discountquantity\tfactsales.discountamount\tfactsales.totalcost\tfactsales.salesamount\tfactsales.etlloadid\tfactsales.loaddate\tfactsales.updatedate\n1\t2007-01-02 00:00:00.0\t1\t209\t956\t10\t1\t91.05\t198.0\t8\t0\t0.0\t1\t39.6\t728.4\t1544.4\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n6799\t2009-07-05 00:00:00.0\t3\t200\t956\t21\t1\t91.05\t198.0\t12\t0\t0.0\t0\t0.0\t1092.6\t2376.0\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n9241\t2007-09-28 00:00:00.0\t1\t169\t956\t3\t1\t91.05\t198.0\t12\t0\t0.0\t3\t59.4\t1092.6\t2316.6\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n16491\t2008-10-17 00:00:00.0\t4\t310\t956\t1\t1\t91.05\t198.0\t10\t0\t0.0\t0\t0.0\t910.5\t1980.0\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n16911\t2007-06-03 00:00:00.0\t1\t282\t956\t1\t1\t91.05\t198.0\t10\t0\t0.0\t0\t0.0\t910.5\t1980.0\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n19285\t2008-06-04 00:00:00.0\t1\t231\t956\t1\t1\t91.05\t198.0\t10\t0\t0.0\t0\t0.0\t910.5\t1980.0\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n23875\t2008-04-15 00:00:00.0\t1\t297\t956\t17\t1\t91.05\t198.0\t9\t0\t0.0\t1\t13.86\t819.45\t1768.14\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n29506\t2007-06-19 00:00:00.0\t1\t14\t956\t1\t1\t91.05\t198.0\t10\t0\t0.0\t0\t0.0\t910.5\t1980.0\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n30007\t2008-04-21 00:00:00.0\t1\t249\t956\t17\t1\t91.05\t198.0\t12\t0\t0.0\t0\t0.0\t1092.6\t2376.0\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n30435\t2008-10-01 00:00:00.0\t2\t306\t956\t19\t1\t91.05\t198.0\t16\t0\t0.0\t8\t316.8\t1456.8\t2851.2\t1\t2010-01-01 00:00:00.0\t2010-01-01 00:00:00.0\n","comment":"","msgTable":[[{"key":"factsales.datekey","value":"1"},{"key":"factsales.datekey","value":"2007-01-02 00:00:00.0"},{"key":"factsales.datekey","value":"1"},{"key":"factsales.datekey","value":"209"},{"key":"factsales.datekey","value":"956"},{"key":"factsales.datekey","value":"10"},{"key":"factsales.datekey","value":"1"},{"key":"factsales.datekey","value":"91.05"},{"key":"factsales.datekey","value":"198.0"},{"key":"factsales.datekey","value":"8"},{"key":"factsales.datekey","value":"0"},{"key":"factsales.datekey","value":"0.0"},{"key":"factsales.datekey","value":"1"},{"key":"factsales.datekey","value":"39.6"},{"key":"factsales.datekey","value":"728.4"},{"key":"factsales.datekey","value":"1544.4"},{"key":"factsales.datekey","value":"1"},{"key":"factsales.datekey","value":"2010-01-01 00:00:00.0"},{"key":"factsales.datekey","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.channelkey","value":"6799"},{"key":"factsales.channelkey","value":"2009-07-05 00:00:00.0"},{"key":"factsales.channelkey","value":"3"},{"key":"factsales.channelkey","value":"200"},{"key":"factsales.channelkey","value":"956"},{"key":"factsales.channelkey","value":"21"},{"key":"factsales.channelkey","value":"1"},{"key":"factsales.channelkey","value":"91.05"},{"key":"factsales.channelkey","value":"198.0"},{"key":"factsales.channelkey","value":"12"},{"key":"factsales.channelkey","value":"0"},{"key":"factsales.channelkey","value":"0.0"},{"key":"factsales.channelkey","value":"0"},{"key":"factsales.channelkey","value":"0.0"},{"key":"factsales.channelkey","value":"1092.6"},{"key":"factsales.channelkey","value":"2376.0"},{"key":"factsales.channelkey","value":"1"},{"key":"factsales.channelkey","value":"2010-01-01 00:00:00.0"},{"key":"factsales.channelkey","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.storekey","value":"9241"},{"key":"factsales.storekey","value":"2007-09-28 00:00:00.0"},{"key":"factsales.storekey","value":"1"},{"key":"factsales.storekey","value":"169"},{"key":"factsales.storekey","value":"956"},{"key":"factsales.storekey","value":"3"},{"key":"factsales.storekey","value":"1"},{"key":"factsales.storekey","value":"91.05"},{"key":"factsales.storekey","value":"198.0"},{"key":"factsales.storekey","value":"12"},{"key":"factsales.storekey","value":"0"},{"key":"factsales.storekey","value":"0.0"},{"key":"factsales.storekey","value":"3"},{"key":"factsales.storekey","value":"59.4"},{"key":"factsales.storekey","value":"1092.6"},{"key":"factsales.storekey","value":"2316.6"},{"key":"factsales.storekey","value":"1"},{"key":"factsales.storekey","value":"2010-01-01 00:00:00.0"},{"key":"factsales.storekey","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.productkey","value":"16491"},{"key":"factsales.productkey","value":"2008-10-17 00:00:00.0"},{"key":"factsales.productkey","value":"4"},{"key":"factsales.productkey","value":"310"},{"key":"factsales.productkey","value":"956"},{"key":"factsales.productkey","value":"1"},{"key":"factsales.productkey","value":"1"},{"key":"factsales.productkey","value":"91.05"},{"key":"factsales.productkey","value":"198.0"},{"key":"factsales.productkey","value":"10"},{"key":"factsales.productkey","value":"0"},{"key":"factsales.productkey","value":"0.0"},{"key":"factsales.productkey","value":"0"},{"key":"factsales.productkey","value":"0.0"},{"key":"factsales.productkey","value":"910.5"},{"key":"factsales.productkey","value":"1980.0"},{"key":"factsales.productkey","value":"1"},{"key":"factsales.productkey","value":"2010-01-01 00:00:00.0"},{"key":"factsales.productkey","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.promotionkey","value":"16911"},{"key":"factsales.promotionkey","value":"2007-06-03 00:00:00.0"},{"key":"factsales.promotionkey","value":"1"},{"key":"factsales.promotionkey","value":"282"},{"key":"factsales.promotionkey","value":"956"},{"key":"factsales.promotionkey","value":"1"},{"key":"factsales.promotionkey","value":"1"},{"key":"factsales.promotionkey","value":"91.05"},{"key":"factsales.promotionkey","value":"198.0"},{"key":"factsales.promotionkey","value":"10"},{"key":"factsales.promotionkey","value":"0"},{"key":"factsales.promotionkey","value":"0.0"},{"key":"factsales.promotionkey","value":"0"},{"key":"factsales.promotionkey","value":"0.0"},{"key":"factsales.promotionkey","value":"910.5"},{"key":"factsales.promotionkey","value":"1980.0"},{"key":"factsales.promotionkey","value":"1"},{"key":"factsales.promotionkey","value":"2010-01-01 00:00:00.0"},{"key":"factsales.promotionkey","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.currencykey","value":"19285"},{"key":"factsales.currencykey","value":"2008-06-04 00:00:00.0"},{"key":"factsales.currencykey","value":"1"},{"key":"factsales.currencykey","value":"231"},{"key":"factsales.currencykey","value":"956"},{"key":"factsales.currencykey","value":"1"},{"key":"factsales.currencykey","value":"1"},{"key":"factsales.currencykey","value":"91.05"},{"key":"factsales.currencykey","value":"198.0"},{"key":"factsales.currencykey","value":"10"},{"key":"factsales.currencykey","value":"0"},{"key":"factsales.currencykey","value":"0.0"},{"key":"factsales.currencykey","value":"0"},{"key":"factsales.currencykey","value":"0.0"},{"key":"factsales.currencykey","value":"910.5"},{"key":"factsales.currencykey","value":"1980.0"},{"key":"factsales.currencykey","value":"1"},{"key":"factsales.currencykey","value":"2010-01-01 00:00:00.0"},{"key":"factsales.currencykey","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.unitcost","value":"23875"},{"key":"factsales.unitcost","value":"2008-04-15 00:00:00.0"},{"key":"factsales.unitcost","value":"1"},{"key":"factsales.unitcost","value":"297"},{"key":"factsales.unitcost","value":"956"},{"key":"factsales.unitcost","value":"17"},{"key":"factsales.unitcost","value":"1"},{"key":"factsales.unitcost","value":"91.05"},{"key":"factsales.unitcost","value":"198.0"},{"key":"factsales.unitcost","value":"9"},{"key":"factsales.unitcost","value":"0"},{"key":"factsales.unitcost","value":"0.0"},{"key":"factsales.unitcost","value":"1"},{"key":"factsales.unitcost","value":"13.86"},{"key":"factsales.unitcost","value":"819.45"},{"key":"factsales.unitcost","value":"1768.14"},{"key":"factsales.unitcost","value":"1"},{"key":"factsales.unitcost","value":"2010-01-01 00:00:00.0"},{"key":"factsales.unitcost","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.unitprice","value":"29506"},{"key":"factsales.unitprice","value":"2007-06-19 00:00:00.0"},{"key":"factsales.unitprice","value":"1"},{"key":"factsales.unitprice","value":"14"},{"key":"factsales.unitprice","value":"956"},{"key":"factsales.unitprice","value":"1"},{"key":"factsales.unitprice","value":"1"},{"key":"factsales.unitprice","value":"91.05"},{"key":"factsales.unitprice","value":"198.0"},{"key":"factsales.unitprice","value":"10"},{"key":"factsales.unitprice","value":"0"},{"key":"factsales.unitprice","value":"0.0"},{"key":"factsales.unitprice","value":"0"},{"key":"factsales.unitprice","value":"0.0"},{"key":"factsales.unitprice","value":"910.5"},{"key":"factsales.unitprice","value":"1980.0"},{"key":"factsales.unitprice","value":"1"},{"key":"factsales.unitprice","value":"2010-01-01 00:00:00.0"},{"key":"factsales.unitprice","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.salesquantity","value":"30007"},{"key":"factsales.salesquantity","value":"2008-04-21 00:00:00.0"},{"key":"factsales.salesquantity","value":"1"},{"key":"factsales.salesquantity","value":"249"},{"key":"factsales.salesquantity","value":"956"},{"key":"factsales.salesquantity","value":"17"},{"key":"factsales.salesquantity","value":"1"},{"key":"factsales.salesquantity","value":"91.05"},{"key":"factsales.salesquantity","value":"198.0"},{"key":"factsales.salesquantity","value":"12"},{"key":"factsales.salesquantity","value":"0"},{"key":"factsales.salesquantity","value":"0.0"},{"key":"factsales.salesquantity","value":"0"},{"key":"factsales.salesquantity","value":"0.0"},{"key":"factsales.salesquantity","value":"1092.6"},{"key":"factsales.salesquantity","value":"2376.0"},{"key":"factsales.salesquantity","value":"1"},{"key":"factsales.salesquantity","value":"2010-01-01 00:00:00.0"},{"key":"factsales.salesquantity","value":"2010-01-01 00:00:00.0"}],[{"key":"factsales.returnquantity","value":"30435"},{"key":"factsales.returnquantity","value":"2008-10-01 00:00:00.0"},{"key":"factsales.returnquantity","value":"2"},{"key":"factsales.returnquantity","value":"306"},{"key":"factsales.returnquantity","value":"956"},{"key":"factsales.returnquantity","value":"19"},{"key":"factsales.returnquantity","value":"1"},{"key":"factsales.returnquantity","value":"91.05"},{"key":"factsales.returnquantity","value":"198.0"},{"key":"factsales.returnquantity","value":"16"},{"key":"factsales.returnquantity","value":"0"},{"key":"factsales.returnquantity","value":"0.0"},{"key":"factsales.returnquantity","value":"8"},{"key":"factsales.returnquantity","value":"316.8"},{"key":"factsales.returnquantity","value":"1456.8"},{"key":"factsales.returnquantity","value":"2851.2"},{"key":"factsales.returnquantity","value":"1"},{"key":"factsales.returnquantity","value":"2010-01-01 00:00:00.0"},{"key":"factsales.returnquantity","value":"2010-01-01 00:00:00.0"}]],"columnNames":[{"name":"factsales.saleskey","index":0,"aggr":"sum"},{"name":"factsales.datekey","index":1,"aggr":"sum"},{"name":"factsales.channelkey","index":2,"aggr":"sum"},{"name":"factsales.storekey","index":3,"aggr":"sum"},{"name":"factsales.productkey","index":4,"aggr":"sum"},{"name":"factsales.promotionkey","index":5,"aggr":"sum"},{"name":"factsales.currencykey","index":6,"aggr":"sum"},{"name":"factsales.unitcost","index":7,"aggr":"sum"},{"name":"factsales.unitprice","index":8,"aggr":"sum"},{"name":"factsales.salesquantity","index":9,"aggr":"sum"},{"name":"factsales.returnquantity","index":10,"aggr":"sum"},{"name":"factsales.returnamount","index":11,"aggr":"sum"},{"name":"factsales.discountquantity","index":12,"aggr":"sum"},{"name":"factsales.discountamount","index":13,"aggr":"sum"},{"name":"factsales.totalcost","index":14,"aggr":"sum"},{"name":"factsales.salesamount","index":15,"aggr":"sum"},{"name":"factsales.etlloadid","index":16,"aggr":"sum"},{"name":"factsales.loaddate","index":17,"aggr":"sum"},{"name":"factsales.updatedate","index":18,"aggr":"sum"}],"rows":[["1","2007-01-02 00:00:00.0","1","209","956","10","1","91.05","198.0","8","0","0.0","1","39.6","728.4","1544.4","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["6799","2009-07-05 00:00:00.0","3","200","956","21","1","91.05","198.0","12","0","0.0","0","0.0","1092.6","2376.0","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["9241","2007-09-28 00:00:00.0","1","169","956","3","1","91.05","198.0","12","0","0.0","3","59.4","1092.6","2316.6","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["16491","2008-10-17 00:00:00.0","4","310","956","1","1","91.05","198.0","10","0","0.0","0","0.0","910.5","1980.0","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["16911","2007-06-03 00:00:00.0","1","282","956","1","1","91.05","198.0","10","0","0.0","0","0.0","910.5","1980.0","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["19285","2008-06-04 00:00:00.0","1","231","956","1","1","91.05","198.0","10","0","0.0","0","0.0","910.5","1980.0","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["23875","2008-04-15 00:00:00.0","1","297","956","17","1","91.05","198.0","9","0","0.0","1","13.86","819.45","1768.14","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["29506","2007-06-19 00:00:00.0","1","14","956","1","1","91.05","198.0","10","0","0.0","0","0.0","910.5","1980.0","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["30007","2008-04-21 00:00:00.0","1","249","956","17","1","91.05","198.0","12","0","0.0","0","0.0","1092.6","2376.0","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"],["30435","2008-10-01 00:00:00.0","2","306","956","19","1","91.05","198.0","16","0","0.0","8","316.8","1456.8","2851.2","1","2010-01-01 00:00:00.0","2010-01-01 00:00:00.0"]]},"dateCreated":"2016-12-22T10:12:11+0000","dateStarted":"2017-01-05T09:25:34+0000","dateFinished":"2017-01-05T09:25:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4846"},{"text":"%livy\nvar hiveContext = new org.apache.spark.sql.hive.HiveContext(sc)","user":"hadoopadmin","dateUpdated":"2017-01-05T22:40:19+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482441885928_-799472691","id":"20161222-212445_2104158653","result":{"code":"SUCCESS","type":"TEXT","msg":"hiveContext: org.apache.spark.sql.hive.HiveContext = org.apache.spark.sql.hive.HiveContext@44f2dbd8\n\n"},"dateCreated":"2016-12-22T09:24:45+0000","dateStarted":"2017-01-05T22:40:19+0000","dateFinished":"2017-01-05T22:40:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4847"},{"text":"%livy\n//hiveContext.sql(\"INSERT INTO factsales SELECT * FROM factsales_tmp\").show\n","user":"sales1","dateUpdated":"2016-12-23T02:22:23+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482443719893_690495045","id":"20161222-215519_1953499667","result":{"code":"SUCCESS","type":"TEXT","msg":"++\n||\n++\n++\n\n"},"dateCreated":"2016-12-22T09:55:19+0000","dateStarted":"2016-12-23T02:19:56+0000","dateFinished":"2016-12-23T02:21:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4848"},{"text":"%livy\n\nhiveContext.sql(\"select * from factsales limit 10\").show","user":"hadoopadmin","dateUpdated":"2017-01-05T22:40:31+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482441980600_-810306957","id":"20161222-212620_1921539908","result":{"code":"SUCCESS","type":"TEXT","msg":"+--------+--------------------+----------+--------+----------+------------+-----------+--------+---------+-------------+--------------+------------+----------------+--------------+---------+-----------+---------+--------------------+--------------------+\n|saleskey|             datekey|channelkey|storekey|productkey|promotionkey|currencykey|unitcost|unitprice|salesquantity|returnquantity|returnamount|discountquantity|discountamount|totalcost|salesamount|etlloadid|            loaddate|          updatedate|\n+--------+--------------------+----------+--------+----------+------------+-----------+--------+---------+-------------+--------------+------------+----------------+--------------+---------+-----------+---------+--------------------+--------------------+\n|    null|                null|      null|    null|      null|        null|       null|    null|     null|         null|          null|        null|            null|          null|     null|       null|     null|                null|                null|\n|       1|2007-01-02 00:00:...|         1|     209|       956|          10|          1|   91.05|    198.0|            8|             0|         0.0|               1|          39.6|    728.4|     1544.4|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       2|2007-02-12 00:00:...|         4|     308|       766|           2|          1|   10.15|     19.9|            4|             0|         0.0|               1|         0.995|     40.6|     78.605|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       3|2008-01-24 00:00:...|         1|     156|      1175|          11|          1|  209.03|    410.0|            9|             0|         0.0|               3|          61.5|  1881.27|     3628.5|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       4|2008-01-13 00:00:...|         2|     306|      1429|          10|          1|   132.9|    289.0|            8|             0|         0.0|               1|          57.8|   1063.2|     2254.2|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       5|2008-01-22 00:00:...|         2|     306|      1133|          10|          1|  144.52|    436.2|           24|             0|         0.0|               3|        261.72|  3468.48|   10207.08|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       6|2007-07-02 00:00:...|         3|     200|      2365|           3|          1|  183.94|   399.99|           36|             0|         0.0|              10|        399.99|  6621.84|   13999.65|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       7|2007-11-19 00:00:...|         4|     310|      1016|           5|          1|   68.06|    148.0|            6|             0|         0.0|               2|          44.4|   408.36|      843.6|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       8|2008-04-10 00:00:...|         2|     307|       138|          15|          1|  229.93|   499.99|            9|             0|         0.0|               1|        99.998|  2069.37|   4399.912|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n|       9|2008-07-14 00:00:...|         2|     199|      1731|          12|          1|   33.32|    72.45|           24|             0|         0.0|               5|        36.225|   799.68|   1702.575|        1|2010-01-01 00:00:...|2010-01-01 00:00:...|\n+--------+--------------------+----------+--------+----------+------------+-----------+--------+---------+-------------+--------------+------------+----------------+--------------+---------+-----------+---------+--------------------+--------------------+\n\n"},"dateCreated":"2016-12-22T09:26:20+0000","dateStarted":"2017-01-05T22:40:31+0000","dateFinished":"2017-01-05T22:40:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4849"},{"text":"%sh\n\n#remove existing copies of dataset from HDFS\nhadoop fs -rm  /tmp/kddcup.data_10_percent.gz\n\n#Download the data and pace it into the /tmp folder of Hortonworks Sandbox\nwget http://kdd.ics.uci.edu/databases/kddcup99/kddcup.data_10_percent.gz -O /tmp/kddcup.data_10_percent.gz\n\n#Copy the data to HDFS on Hortonworks Sandbox\nhadoop fs -put /tmp/kddcup.data_10_percent.gz /tmp\n\n#Verify the data has been copied to the /tmp folder on HDFS\nhadoop fs -ls -h /tmp/kddcup.data_10_percent.gz\n\n#Remove the dataset /tmp folder on the Sandbox local filesystem now that the data has been copied to HDFS\nrm  /tmp/kddcup.data_10_percent.gz","user":"hadoopadmin","dateUpdated":"2017-01-05T10:14:43+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483654480095_-17638158","id":"20170105-221440_1524031971","result":{"code":"SUCCESS","type":"TEXT","msg":"-rw-r--r--   3 zeppelin hdfs      2.0 M 2017-01-05 22:14 /tmp/kddcup.data_10_percent.gz\n"},"dateCreated":"2017-01-05T10:14:40+0000","dateStarted":"2017-01-05T10:14:43+0000","dateFinished":"2017-01-05T10:15:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4850"},{"text":"%livy.pyspark\n\ninput_file = \"hdfs:///tmp/kddcup.data_10_percent.gz\"\n\nraw_rdd = sc.textFile(input_file)\nprint raw_rdd.count()","user":"hadoopadmin","dateUpdated":"2017-01-05T22:41:08+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1483654537851_-1972654589","id":"20170105-221537_323020286","result":{"code":"SUCCESS","type":"TEXT","msg":"494021"},"dateCreated":"2017-01-05T10:15:37+0000","dateStarted":"2017-01-05T22:41:08+0000","dateFinished":"2017-01-05T22:42:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4851"},{"text":"%livy.sparkr\n\nz <- 1.0\nprint(z)","user":"hadoopadmin","dateUpdated":"2017-01-05T23:25:43+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","tableHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482459818182_-528104144","id":"20161223-022338_1037285111","result":{"code":"SUCCESS","type":"TEXT","msg":"[1] 1\nAttaching package: ‘SparkR’\n\nThe following objects are masked from ‘package:stats’:\n\n    cov, filter, lag, na.omit, predict, sd, var\n\nThe following objects are masked from ‘package:base’:\n\n    colnames, colnames<-, endsWith, intersect, rank, rbind, sample,\n    startsWith, subset, summary, table, transform"},"dateCreated":"2016-12-23T02:23:38+0000","dateStarted":"2017-01-05T23:25:43+0000","dateFinished":"2017-01-05T23:26:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4852"},{"text":"%jdbc(hive)\nselect CURRENT_USER()","user":"hadoopadmin","dateUpdated":"2017-01-05T23:24:21+0000","config":{"colWidth":12,"graph":{"mode":"table","height":89,"optionOpen":false,"keys":[{"name":"_c0","index":0,"aggr":"sum"}],"values":[],"groups":[],"scatter":{"xAxis":{"name":"_c0","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482785898481_1007667227","id":"20161226-205818_1752715860","result":{"code":"SUCCESS","type":"TABLE","msg":"_c0\nhadoopadmin\n","comment":"","msgTable":[[{"value":"hadoopadmin"}]],"columnNames":[{"name":"_c0","index":0,"aggr":"sum"}],"rows":[["hadoopadmin"]]},"dateCreated":"2016-12-26T08:58:18+0000","dateStarted":"2016-12-29T05:17:51+0000","dateFinished":"2016-12-29T05:17:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:4853"},{"text":"%jdbc(spark-hive)\nselect CURRENT_USER()","user":"hadoopadmin","dateUpdated":"2017-01-05T23:24:47+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482786023785_-1145571508","id":"20161226-210023_616942093","dateCreated":"2016-12-26T09:00:23+0000","dateStarted":"2016-12-26T10:50:28+0000","dateFinished":"2016-12-26T10:50:32+0000","status":"ERROR","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:4854"},{"text":"%jdbc(hivellap)\nselect CURRENT_USER()","user":"hadoopadmin","dateUpdated":"2016-12-26T10:04:43+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482788185167_828939361","id":"20161226-213625_1608285933","dateCreated":"2016-12-26T09:36:25+0000","dateStarted":"2016-12-26T10:04:43+0000","dateFinished":"2016-12-26T10:04:47+0000","status":"ERROR","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:4855"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1482788310160_-551738907","id":"20161226-213830_1933812380","dateCreated":"2016-12-26T09:38:30+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:4856"}],"name":"SKO Kerberos","id":"2C5T2M4YE","angularObjects":{"2C5MFHNJK:shared_process":[],"2C45ZZRNS:shared_process":[],"2C5D67TVZ:shared_process":[],"2C4FD7DT3:shared_process":[],"2C3W9V1U9:shared_process":[],"2C67D9ZYN:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}